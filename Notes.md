# Initial thoughts
The codebase is fairly simple, just an orders controller that gets a list of orders and returns it to the frontend
Frontend just displays this in a list with no styling 

Some big red flags in the backend:
* Database is defined using a legacy sqlproj type project (.NET Framework), could really be upgraded to a EF code first type definition
* API has no authentication (probably outwith the scope of this technical test)
* Doesn't look like dependency injection is being used
* Config is hard coded
* Database access is very manual at the moment which is very fragile (looks like the get order query isn't even filtering on customers)
* API endpoints are not very meaningful (orders/1 should get the order with id 1, not the orders for customer 1)
* API Models and DTO Models are the same class, meaning properties like FKs are being returned to the front-end for no reason (not very decoupled)
* No tests

Overall in pretty bad shape, my main priority would be modernising the database since that will make everything else easier.


In terms of the frontend, I don't have much experience with Angular so I can't comment too much on what is / is not best practice. However looking at the output there's clearly some improvements to be made.
One glaring issue is that there is no url parameter to specify what customer you would like to load the orders for.

# Changes made

1 - Deleted the Data sqlproj project

2 - Used [Scaffolding](https://learn.microsoft.com/en-us/ef/core/managing-schemas/scaffolding/?tabs=dotnet-core-cli) turn the existing database into a EFCore definition. This autogenerated the Entities and Context class in the Data proj. Also added a repository class for convinience.

3 - Updated the controller to use the repository instead of the OrderService, deleted old database code

4 - Tidied up API models to remove all the properties not needed at the moment

5 - Changed the order controller to be a customer controller, order are now available at "api/v1/customers/{id}/orders". Also added some other endpoints to show how it would fit in with future API endpoints.

6 - Added some unit tests for the controller

7 - Added some integration tests for the data proj

8 - Added some end to end tests

9 - Updated frontend to be a bit cleaner, used some bootstrap components


# Final notes

Overall there were still changes I would have likes to have made before approving this piece of work for production
* Updating front end to page the orderd
* Updating the front end to take a url parameter for the customer id
* Set up some form of c# model to typscript model conversion, so our c# model definitions could be reused in the front end ([like this](https://github.com/svenheden/csharp-models-to-typescript))
* Add API authorisation

I would have liked to have made more front-end changes to showcase my abilites, however I felt that I was able to accomplish more by focussing on the pieces of work I knew would be possible within a reasonable time frame.